$(document).ready(function(){$("#txtTypeTax").mask("##0.00",{reverse:!0});var e=$("#tblTypeProducts").DataTable({ajax:{url:"/product/type",type:"POST",dataType:"json",dataSrc:function(e){return e&&e.data?e.data:{}},error:function(e,a,t){console.log(e),Message.Toast({message:t,class:"danger"})},complete:function(e,a){}},columns:[{title:"PRODUTO",data:"name"},{title:"IMPOSTO",data:"price",render:function(e,a,t){return e+"%"}}],processing:!1,bInfo:!1,ordering:!1,responsive:!0,dom:"Bfrtp",buttons:[{text:"Adicionar",className:"btn-info btn-sm",action:function(e,a,t,o){$("#modalType").modal("show")}}],language:Language.DataTable});$("#btnType").off("click").on("click",function(){var a={name:$("#txtTypeName").val(),price:$("#txtTypeTax").val()};return null==a.name||""==a.name?(Message.Toast({message:"Tipo de produto n&atilde;o informado.",class:"warning"}),!1):null==a.price||""==a.price?(Message.Toast({message:"Percentual do imposto n&atilde;o informado.",class:"warning"}),!1):parseFloat(a.price)>100?(Message.Toast({message:"Percentual n&atilde;o fecha em 100%",class:"warning"}),!1):($("#btnType").prop("disabled",!0),$.ajax({url:"/product/type/create",type:"POST",data:a,success:function(a){a&&Message.Toast(a),e.ajax.reload()},error:function(e,a,t){console.log(e),Message.Toast({message:t,class:"danger"})},complete:function(e,a){$("#formType").trigger("reset")}}),$("#btnType").prop("disabled",!1),void $("#modalType").modal("hide"))})});