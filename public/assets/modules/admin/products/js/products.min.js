$(document).ready(function(){$("#txtProductPrice").mask("##0.00",{reverse:!0});var e=$("#tblProducts").DataTable({ajax:{url:"/product",type:"POST",dataType:"json",dataSrc:function(e){return e&&e.data?e.data:{}},error:function(e,a,t){console.log(e),Message.Toast({message:t,class:"danger"})},complete:function(e,a){}},columns:[{title:"PRODUTO",data:"name"},{title:"PRE&Ccedil;O",data:"price"}],processing:!1,bInfo:!1,ordering:!1,responsive:!0,dom:"Bfrtp",buttons:[{text:"Adicionar",className:"btn-info btn-sm",action:function(e,a,t,o){$("#modalProduct").modal("show")}}],language:Language.DataTable});$("#btnProduct").off("click").on("click",function(){var a={name:$("#txtProductName").val(),type:$("#txtProductType").val(),price:$("#txtProductPrice").val()};return null==a.name||""==a.name?(Message.Toast({message:"Produto n&atilde;o informado.",class:"warning"}),!1):null==a.type||""==a.type?(Message.Toast({message:"Tipo de produto n&atilde;o informado.",class:"warning"}),!1):null==a.price||""==a.price?(Message.Toast({message:"Valor do produto n&atilde;o informado.",class:"warning"}),!1):($("#btnProduct").prop("disabled",!0),$.ajax({url:"/product/create",type:"POST",data:a,success:function(a){a&&Message.Toast(a),e.ajax.reload()},error:function(e,a,t){console.log(e),Message.Toast({message:t,class:"danger"})},complete:function(e,a){$("#formProduct").trigger("reset")}}),$("#btnProduct").prop("disabled",!1),void $("#modalProduct").modal("hide"))}),$.ajax({url:"/product/type",type:"POST",success:function(e){e&&Fill.Select($("#txtProductType"),e.data)},error:function(e,a,t){console.log(e),Message.Toast({message:t,class:"danger"})},complete:function(e,a){}})});