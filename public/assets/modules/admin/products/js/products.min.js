$(document).ready(function(){$("#txtProductPrice").mask("##0.00",{reverse:!0});var e=$("#tblProducts").DataTable({ajax:{url:"/product",type:"POST",dataType:"json",dataSrc:function(e){return e&&e.data?e.data:{}},error:function(e,t,a){console.log(e),Message.Toast({message:a,class:"danger"})},complete:function(e,t){}},columns:[{title:"PRODUTO",data:"name"},{title:"PRE&Ccedil;O",data:"price",render:function(e,t,a){return"R$"+e}},{title:"IMPOSTO",data:"tax",render:function(e,t,a){return e+"%"}}],processing:!1,bInfo:!1,ordering:!1,responsive:!0,dom:"Bfrtp",buttons:[{text:"Adicionar",className:"btn-info btn-sm",action:function(e,t,a,o){$("#modalProduct").modal("show")}}],language:Language.DataTable});$("#btnProduct").off("click").on("click",function(){var t={name:$("#txtProductName").val(),type:$("#txtProductType").val(),price:$("#txtProductPrice").val()};return null==t.name||""==t.name?(Message.Toast({message:"Produto n&atilde;o informado.",class:"warning"}),!1):null==t.type||""==t.type?(Message.Toast({message:"Tipo de produto n&atilde;o informado.",class:"warning"}),!1):null==t.price||""==t.price?(Message.Toast({message:"Valor do produto n&atilde;o informado.",class:"warning"}),!1):($("#btnProduct").prop("disabled",!0),$.ajax({url:"/product/create",type:"POST",data:t,success:function(t){t&&Message.Toast(t),e.ajax.reload()},error:function(e,t,a){console.log(e),Message.Toast({message:a,class:"danger"})},complete:function(e,t){$("#formProduct").trigger("reset")}}),$("#btnProduct").prop("disabled",!1),void $("#modalProduct").modal("hide"))}),$.ajax({url:"/product/type",type:"POST",success:function(e){e&&Fill.Select($("#txtProductType"),e.data)},error:function(e,t,a){console.log(e),Message.Toast({message:a,class:"danger"})},complete:function(e,t){}})});